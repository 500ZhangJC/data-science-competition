# 思路说明
这次的数据量还是太小了，没有太可靠的线下验证。我们主打的图像分类，所以从初赛到最后都比较稳定在前排，不会因为数据有太大波动。我们的模型是单模，单batch线上10min以内可以推理出结果，多batch估计一两分钟即可。速度很快适合真正应用。同时尝试了目标检测结合分类的思路:一个检测器检测障碍物，一个检测器检测车辆分布和道路状况。这两个检测器的结果作为特征连同我们的分类器卷积出来的特征一起送给树模型进行分类，但是效果还不如只用图像分类。所以最终的结果还是图像分类单模型跑出来的。

### 1 直接图像分类

该部分代码在classfiyForGaoDe目录下，初赛分类可以到70+，加上检测的特征可以做到78+,初赛最终排名:Rank4.
复赛我们通过分类一度处于榜一位置,以至于比较松懈，加上最后b榜时间太久,而我们一直使用单模型分类有自己的局限性.所以最终复赛只取得了Rank7的成绩

### 2 Yolov5/mmdetection/做检测特征用于lgb/catboost/xgb的训练

该部分代码位于yolov5目录下,使用的模型为yolov5在coco上面的预训练模型yolov5x.pt，通过convert_data.py组织好图片数据，运行get_gaodeFRTv1.py即可得到检测做出来的特征:这些特征主要包括的图像中出现的车辆的信息(车的**数量，大小，位置**分布等等统计特征)

### 3 结合分类模型提取的特征和yolov5检测特征的结果

通过xception可提取图片特征，然后连同检测特征一起送入树模型中进行最终分类。这一步可直接运行Xception_Lgb_roundB.py，即可得到最终的预测结果输出


**所需基础环境:**

> CUDA10.0
>
> py3.7
>
> pytorch
>
>
> scikit-learn
>
> xgboost
>
> lightgbm
>
> catboost
